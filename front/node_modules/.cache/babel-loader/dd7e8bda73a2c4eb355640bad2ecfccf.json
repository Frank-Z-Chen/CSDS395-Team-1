{"ast":null,"code":"import _toConsumableArray from \"C:/Users/Tier1_Assassin/Desktop/CSDS395-Team-1/front/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _objectSpread from \"C:/Users/Tier1_Assassin/Desktop/CSDS395-Team-1/front/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.replace.js\";\nimport \"core-js/modules/es.string.trim.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.json.stringify.js\";\nimport \"core-js/modules/es.object.seal.js\";\nimport \"core-js/modules/es.object.to-string.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nimport { Editor, Toolbar } from \"@wangeditor/editor-for-vue\";\nimport \"@wangeditor/editor/dist/css/style.css\";\nimport { Notification } from 'element-ui';\nimport { i18nChangeLanguage } from '@wangeditor/editor';\nvar curName = 'items';\nexport default {\n  // eslint-disable-next-line vue/multi-word-component-names\n  name: 'items',\n  components: {\n    Editor: Editor,\n    Toolbar: Toolbar\n  },\n  data: function data() {\n    return {\n      info: null,\n      printlist: [],\n      indexlist: [],\n      srclink: \"data:image/png;base64,\",\n      information: null,\n      type: undefined,\n      typeName: curName,\n      typeList: [],\n      list: [],\n      ocrPath: 'http://127.0.0.1:8000/wiki/ocr/' + curName,\n      title: '',\n      slug: '',\n      addToType: '',\n      content: '',\n      updatePk: -1,\n      updateData: false,\n      editAble: false,\n      editor: null,\n      toolbarConfig: {\n        excludeKeys: ['uploadImage', 'uploadVideo']\n      },\n      editorConfig: {\n        focus: false,\n        MENU_CONF: {}\n      },\n      ocrData: [],\n      ocrDataFields: ['content', 'as_cat', 'chunk', 'cat'],\n      ocrAttrs: [],\n      attrsCacheMap: {}\n    };\n  },\n  computed: {\n    uploadOrcPath: function uploadOrcPath() {\n      return \"\".concat(this.ocrPath, \"/\").concat(this.slug, \"/\");\n    }\n  },\n  created: function created() {\n    var _this = this;\n\n    i18nChangeLanguage('en');\n    axios.get('http://127.0.0.1:8000/wiki/page/').then(function (res) {\n      var types = res.data;\n      _this.typeList = types;\n\n      for (var i = 0; i < types.length; i++) {\n        if (_this.typeName === types[i].name) {\n          _this.type = types[i].pk;\n          return;\n        }\n      }\n    });\n    axios.get('http://127.0.0.1:8000/wiki/page/' + this.typeName + '/').then(function (res) {\n      _this.list = res.data;\n    });\n  },\n  beforeDestroy: function beforeDestroy() {\n    var editor = this.editor;\n    if (editor == null) return;\n    editor.destroy();\n  },\n  watch: {\n    title: function title(n) {\n      this.slug = n.trim().replace(' ', '-');\n    }\n  },\n  methods: {\n    imgReturn: function imgReturn(res) {\n      var data = res.json;\n\n      if (data.length > 1) {\n        this.ocrData = data.slice(1);\n      }\n\n      var imgData = JSON.stringify(res.image).slice(3, -2);\n      this.srclink = this.srclink + imgData;\n    },\n    open: function open(item) {\n      this.updateData = true;\n      this.editAble = false;\n      this.title = item.name;\n      this.slug = item.name.trim().replace(' ', '-');\n      this.content = item.content;\n      this.addToType = item.type;\n      this.updatePk = item.pk;\n      this.ocrAttrs = item.attributes;\n      window.location.hash = '#form';\n      setTimeout(function () {\n        window.location.hash = '';\n      }, 0);\n    },\n    resetForm: function resetForm() {\n      this.ocrAttrs = [];\n      this.updateData = false;\n      this.editAble = false;\n      this.title = '';\n      this.slug = '';\n      this.addToType = '';\n      this.updatePk = -1;\n      this.content = '';\n    },\n    onCreated: function onCreated(editor) {\n      this.editor = Object.seal(editor); // 【注意】一定要用 Object.seal() 否则会报错\n    },\n    submitForm: function submitForm() {\n      var _this2 = this;\n\n      if (this.slug === '') {\n        Notification.warning('Please Enter Title');\n        return;\n      }\n\n      var tn = '';\n\n      for (var i = 0; i < this.typeList.length; i++) {\n        if (this.typeList[i].pk === this.addToType) {\n          tn = this.typeList[i].name;\n        }\n      }\n\n      var data = {\n        name: this.title,\n        slug: this.slug,\n        content: this.content,\n        type: this.addToType\n      };\n\n      if (this.updateData) {\n        // 更新数据\n        var path = \"http://127.0.0.1:8000/wiki/page/\".concat(tn, \"/\").concat(this.slug, \"/\");\n        axios.put(path, _objectSpread(_objectSpread({}, data), {}, {\n          pk: this.updatePk\n        })).then(function (res) {\n          Notification.success(\"\".concat(res.data.name, \" Modify Successfully\"));\n          axios.get('http://127.0.0.1:8000/wiki/page/' + _this2.typeName + '/').then(function (res) {\n            _this2.list = res.data;\n          });\n        });\n      } else {\n        var _path = \"http://127.0.0.1:8000/wiki/page/\".concat(tn, \"/\");\n\n        axios.post(_path, data).then(function (res) {\n          _this2.list.push(res.data);\n\n          Notification.success(\"Input\".concat(_this2.res.data.name, \"Successfully\"));\n          axios.get('http://127.0.0.1:8000/wiki/page/' + _this2.typeName + '/').then(function (res) {\n            _this2.list = res.data;\n          });\n        });\n      }\n    },\n    beforeUpload: function beforeUpload() {\n      if (this.slug === '') {\n        Notification.warning('Please Enter Title');\n        return Promise.reject(false);\n      }\n    },\n    submitJson: function submitJson() {\n      var _this3 = this;\n\n      if (this.slug === '') {\n        Notification.warning('Please Enter Title');\n        return;\n      }\n\n      var jsonData = [{\n        \"TLX\": \"TLX\",\n        \"TLY\": \"TLY\",\n        \"BLX\": \"BLX\",\n        \"BLY\": \"BLY\",\n        \"BRX\": \"BRX\",\n        \"BRY\": \"BRY\",\n        \"TRX\": \"TRX\",\n        \"TRY\": \"TRY\",\n        \"content\": \"content\",\n        \"p\": \"p\",\n        \"as_cat\": \"as_cat\",\n        \"chunk\": \"chunk\",\n        \"cat\": \"cat\"\n      }];\n      jsonData.push.apply(jsonData, _toConsumableArray(this.ocrData));\n      var path = \"http://127.0.0.1:8000/wiki/ocr/\".concat(this.typeName, \"/\").concat(this.slug, \"/response/\");\n      axios.post(path, {\n        json: jsonData\n      }).then(function (res) {\n        _this3.attrsCacheMap[_this3.slug] = res.data.attributes;\n        _this3.ocrAttrs = res.data.attributes;\n      });\n    },\n    deletePage: function deletePage() {\n      var _this4 = this;\n\n      axios.delete(\"http://127.0.0.1:8000/wiki/page/\".concat(this.typeName, \"/\").concat(this.slug)).then(function (res) {\n        _this4.resetForm();\n\n        axios.get('http://127.0.0.1:8000/wiki/page/' + _this4.typeName + '/').then(function (res) {\n          _this4.list = res.data;\n        });\n      });\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0HA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACAA,eAFA;AAGAC;AAAAC;AAAAC;AAAA,GAHA;AAIAC,MAJA,kBAIA;AACA;AACAC,gBADA;AAEAC,mBAFA;AAGAC,mBAHA;AAIAC,uCAJA;AAKAC,uBALA;AAMAC,qBANA;AAOAC,uBAPA;AAQAC,kBARA;AASAC,cATA;AAUAC,0DAVA;AAWAC,eAXA;AAYAC,cAZA;AAaAC,mBAbA;AAcAC,iBAdA;AAeAC,kBAfA;AAgBAC,uBAhBA;AAiBAC,qBAjBA;AAkBAC,kBAlBA;AAmBAC;AACAC;AADA,OAnBA;AAsBAC;AACAC,oBADA;AAEAC;AAFA,OAtBA;AA0BAC,iBA1BA;AA2BAC,0DA3BA;AA4BAC,kBA5BA;AA6BAC;AA7BA;AA+BA,GApCA;AAqCAC;AACAC,iBADA,2BACA;AACA;AACA;AAHA,GArCA;AA0CAC,SA1CA,qBA0CA;AAAA;;AACAC;AACAC,UACAC,GADA,CACA,kCADA,EAEAC,IAFA,CAEA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAXA;AAYAF,UACAC,GADA,CACA,wDADA,EAEAC,IAFA,CAEA;AACA;AACA,KAJA;AAKA,GA7DA;AA8DAC,eA9DA,2BA8DA;AACA;AACA;AACAjB;AACA,GAlEA;AAmEAkB;AACAzB,SADA,iBACA0B,CADA,EACA;AACA;AACA;AAHA,GAnEA;AAwEAC;AACAC,aADA,qBACAC,GADA,EACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA,KARA;AASAC,QATA,gBASAC,IATA,EASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACAC;AACAC;AACAD;AACA,OAFA,EAEA,CAFA;AAGA,KAvBA;AAwBAE,aAxBA,uBAwBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAjCA;AAkCAC,aAlCA,qBAkCA5B,MAlCA,EAkCA;AACA,wCADA,CACA;AACA,KApCA;AAqCA6B,cArCA,wBAqCA;AAAA;;AACA;AACAC;AACA;AACA;;AACA;;AACA;AACA;AACAC;AACA;AACA;;AACA;AACArD,wBADA;AAEAgB,uBAFA;AAGAE,6BAHA;AAIAR;AAJA;;AAMA;AACA;AACA;AACA0B,cACAkB,GADA,CACAC,IADA,kCACAnD,IADA;AACAoD;AADA,YAEAlB,IAFA,CAEA;AACAc;AACAhB,gBACAC,GADA,CACA,0DADA,EAEAC,IAFA,CAEA;AACA;AACA,WAJA;AAKA,SATA;AAUA,OAbA,MAaA;AACA;;AACAF,cACAqB,IADA,CACAF,KADA,EACAnD,IADA,EAEAkC,IAFA,CAEA;AACA;;AACAc;AACAhB,gBACAC,GADA,CACA,0DADA,EAEAC,IAFA,CAEA;AACA;AACA,WAJA;AAKA,SAVA;AAWA;AACA,KAjFA;AAkFAoB,gBAlFA,0BAkFA;AACA;AACAN;AACA;AACA;AACA,KAvFA;AAwFAO,cAxFA,wBAwFA;AAAA;;AACA;AACAP;AACA;AACA;;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACAQ;AACA;AACAxB,YACAqB,IADA,CACAF,IADA,EACA;AAAAM;AAAA,OADA,EAEAvB,IAFA,CAEA;AACA;AACA;AACA,OALA;AAMA,KAtGA;AAuGAwB,cAvGA,wBAuGA;AAAA;;AACA1B;AACA;;AACAA,cACAC,GADA,CACA,0DADA,EAEAC,IAFA,CAEA;AACA;AACA,SAJA;AAKA,OAPA;AAQA;AAhHA;AAxEA","names":["name","components","Editor","Toolbar","data","info","printlist","indexlist","srclink","information","type","typeName","typeList","list","ocrPath","title","slug","addToType","content","updatePk","updateData","editAble","editor","toolbarConfig","excludeKeys","editorConfig","focus","MENU_CONF","ocrData","ocrDataFields","ocrAttrs","attrsCacheMap","computed","uploadOrcPath","created","i18nChangeLanguage","axios","get","then","beforeDestroy","watch","n","methods","imgReturn","res","open","item","window","setTimeout","resetForm","onCreated","submitForm","Notification","tn","put","path","pk","post","beforeUpload","submitJson","jsonData","json","deletePage"],"sourceRoot":"views/item","sources":["index.vue"],"sourcesContent":["<template>\r\n  <div class=\"items\">\r\n    <!-- <div>{{ info }}</div>\r\n    <div>{{ printlist }}</div>\r\n    <img :src=\"srclink\" />\r\n    <el-link @click=\"ask(item)\" v-for=\"item in printlist\" :index=\"item\" :key=\"item\">\r\n      {{ item }}\r\n    </el-link> -->\r\n    <el-card v-for=\"item in list\" :key=\"'list'+item.pk\" :body-style=\"{ padding: '10px' }\">\r\n      <el-link type=\"primary\" @click=\"open(item)\">{{item.name}}</el-link>\r\n    </el-card>\r\n\r\n    <el-card class=\"op\" id=\"form\">\r\n      <el-form>\r\n        <el-form-item label=\"Title\">\r\n          <el-input v-model=\"title\" placeholder=\"Please Enter Title\" />\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <div v-if=\"updateData\">\r\n            <el-button type=\"success\" @click=\"editAble = true\" v-if=\"!editAble\">编辑</el-button>\r\n            <div v-html=\"content\" v-if=\"!editAble\"></div>\r\n          </div>\r\n          <div style=\"border: 1px solid #ccc; margin-top: 10px\" v-if=\"!updateData || editAble\">\r\n            <Toolbar\r\n              style=\"border-bottom: 1px solid #ccc\"\r\n              ref=\"tool\"\r\n              :editor=\"editor\"\r\n              :defaultConfig=\"toolbarConfig\"\r\n            />\r\n            <Editor\r\n              style=\"height: 300px; overflow-y: hidden\"\r\n              :defaultConfig=\"editorConfig\"\r\n              v-model=\"content\"\r\n              @onCreated=\"onCreated\"\r\n            />\r\n          </div>\r\n        </el-form-item>\r\n        <el-form-item label=\"Category\">\r\n          <el-select v-model=\"addToType\" placeholder=\"Choose\">\r\n            <el-option\r\n              v-for=\"item in typeList\"\r\n              :key=\"'sel'+item.pk\"\r\n              :label=\"item.name\"\r\n              :value=\"item.pk\">\r\n            </el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"ocr result\" v-if=\"ocrAttrs.length > 0\">\r\n          <el-table :data=\"ocrAttrs\" max-height=\"300\">\r\n            <el-table-column label=\"attributeName\" prop=\"attribute_name\"></el-table-column>\r\n            <el-table-column label=\"attributeValue\" prop=\"attribute_value\"></el-table-column>\r\n          </el-table>\r\n        </el-form-item>\r\n      </el-form>\r\n      <br>\r\n      <el-button @click=\"submitForm\" type=\"primary\">Submit</el-button>\r\n      <el-button @click=\"resetForm\" type=\"success\">Reset</el-button>\r\n      <el-button @click=\"deletePage\" type=\"danger\">Detele</el-button>\r\n    </el-card>\r\n\r\n    <el-card>\r\n      Slug: <el-tag>{{slug === '' ? 'no slug' : slug}}</el-tag>\r\n      <div class=\"ocr\">\r\n        <div class=\"left-cont clearfix\">\r\n          <el-image\r\n            v-if=\"'data:image/png;base64,'!==srclink\"\r\n            style=\"width: 360px; height: 180px; float: left\"\r\n            :src=\"srclink\"\r\n          />\r\n          <div style=\"float: right\">\r\n            <el-upload class=\"upload-demo\" drag :on-success=\"imgReturn\" :action=\"uploadOrcPath\" :multiple=\"false\" :before-upload=\"beforeUpload\">\r\n              <i class=\"el-icon-upload\"></i>\r\n              <div class=\"el-upload__text\">Please drag the file, or <em>click here</em> to choose a file</div>\r\n              <div class=\"el-upload__tip\" slot=\"tip\">Only support jpg/png file</div>\r\n            </el-upload>\r\n          </div>\r\n        </div>\r\n        <br>\r\n        <div class=\"right-cont\">\r\n          <el-table :data=\"ocrData\" style=\"width: 100%\">\r\n            <el-table-column v-for=\"(f,idx) in ocrDataFields\" :key=\"'excel'+f\" :prop=\"f\" :label=\"f\" :width=\"idx<5?'150':'80'\">\r\n              <template slot-scope=\"scope\">\r\n                <el-input v-model=\"ocrData[scope.$index][f]\" width=\"20\" size=\"mini\" />\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n        </div>\r\n        <br>\r\n        <el-button :disabled=\"ocrData.length === 0\" type=\"primary\" @click=\"submitJson\">Upload Modified Content</el-button>\r\n      </div>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.items {\r\n  padding: 20px 10px;\r\n  height: 100%;\r\n}\r\n.ocr {\r\n  /* display: flex; */\r\n  width: 100%;\r\n  /* justify-content: space-between; */\r\n}\r\n.left-cont {\r\n  position: relative;\r\n  width: 100%;\r\n}\r\n.el-card {\r\n  margin-bottom: 8px;\r\n}\r\n.el-card.op {\r\n  margin-top: 16px;\r\n}\r\n.clearfix::before, .clearfix::after {\r\n    content: '';\r\n    display: table;\r\n    clear: both;\r\n}\r\n</style>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport { Editor, Toolbar} from \"@wangeditor/editor-for-vue\";\r\nimport \"@wangeditor/editor/dist/css/style.css\";\r\nimport { Notification } from 'element-ui';\r\nimport { i18nChangeLanguage } from '@wangeditor/editor'\r\n\r\nconst curName = 'items'\r\nexport default {\r\n  // eslint-disable-next-line vue/multi-word-component-names\r\n  name: 'items',\r\n  components: { Editor, Toolbar },\r\n  data() {\r\n    return {\r\n      info: null,\r\n      printlist: [],\r\n      indexlist: [],\r\n      srclink: \"data:image/png;base64,\",\r\n      information: null,\r\n      type: undefined,\r\n      typeName: curName,\r\n      typeList: [],\r\n      list: [],\r\n      ocrPath: 'http://127.0.0.1:8000/wiki/ocr/' + curName,\r\n      title: '',\r\n      slug: '',\r\n      addToType: '',\r\n      content: '',\r\n      updatePk: -1,\r\n      updateData: false,\r\n      editAble: false,\r\n      editor: null,\r\n      toolbarConfig: {\r\n        excludeKeys: ['uploadImage','uploadVideo']\r\n      },\r\n      editorConfig: {\r\n        focus: false,\r\n        MENU_CONF: {},\r\n      },\r\n      ocrData: [],\r\n      ocrDataFields: ['content','as_cat','chunk','cat'],\r\n      ocrAttrs: [],\r\n      attrsCacheMap: {}\r\n    }\r\n  },\r\n  computed: {\r\n    uploadOrcPath() {\r\n      return `${this.ocrPath}/${this.slug}/`\r\n    }\r\n  },\r\n  created() {\r\n    i18nChangeLanguage('en')\r\n    axios\r\n      .get('http://127.0.0.1:8000/wiki/page/')\r\n      .then(res => {\r\n        const types = res.data\r\n        this.typeList = types\r\n        for (let i = 0; i < types.length; i++) {\r\n          if (this.typeName === types[i].name) {\r\n            this.type = types[i].pk\r\n            return\r\n          }\r\n        }\r\n      })\r\n    axios\r\n      .get('http://127.0.0.1:8000/wiki/page/' + this.typeName + '/')\r\n      .then(res => {\r\n        this.list = res.data\r\n      })\r\n  },\r\n  beforeDestroy() {\r\n    const editor = this.editor\r\n    if (editor == null) return\r\n    editor.destroy()\r\n  },\r\n  watch: {\r\n    title(n) {\r\n      this.slug = n.trim().replace(' ', '-')\r\n    }\r\n  },\r\n  methods: {\r\n    imgReturn(res) {\r\n      const data = res.json\r\n      if (data.length > 1) {\r\n        this.ocrData = data.slice(1)\r\n      }\r\n      const imgData = JSON.stringify(res.image).slice(3, -2)\r\n      this.srclink = this.srclink + imgData\r\n    },\r\n    open(item) {\r\n      this.updateData = true\r\n      this.editAble = false\r\n      this.title = item.name\r\n      this.slug = item.name.trim().replace(' ', '-')\r\n      this.content = item.content\r\n      this.addToType = item.type\r\n      this.updatePk = item.pk\r\n\r\n      this.ocrAttrs = item.attributes\r\n      window.location.hash = '#form'\r\n      setTimeout(() => {\r\n        window.location.hash = ''\r\n      }, 0)\r\n    },\r\n    resetForm() {\r\n      this.ocrAttrs = []\r\n      this.updateData = false\r\n      this.editAble = false\r\n      this.title = ''\r\n      this.slug = ''\r\n      this.addToType = ''\r\n      this.updatePk = -1\r\n      this.content = ''\r\n    },\r\n    onCreated(editor) {\r\n      this.editor = Object.seal(editor); // 【注意】一定要用 Object.seal() 否则会报错\r\n    },\r\n    submitForm() {\r\n      if (this.slug === '') {\r\n        Notification.warning('Please Enter Title')\r\n        return\r\n      }\r\n      let tn = ''\r\n      for (let i = 0; i < this.typeList.length; i++) {\r\n        if (this.typeList[i].pk === this.addToType) {\r\n          tn = this.typeList[i].name\r\n        }\r\n      }\r\n      const data = {\r\n        name: this.title,\r\n        slug: this.slug,\r\n        content: this.content,\r\n        type: this.addToType\r\n      }\r\n      if (this.updateData) {\r\n        // 更新数据\r\n        const path = `http://127.0.0.1:8000/wiki/page/${tn}/${this.slug}/`\r\n        axios\r\n          .put(path, {...data, pk: this.updatePk})\r\n          .then(res => {\r\n            Notification.success(`${res.data.name} Modify Successfully`)\r\n            axios\r\n              .get('http://127.0.0.1:8000/wiki/page/' + this.typeName + '/')\r\n              .then(res => {\r\n                this.list = res.data\r\n              })\r\n          })\r\n      } else {\r\n        const path = `http://127.0.0.1:8000/wiki/page/${tn}/`\r\n        axios\r\n          .post(path, data)\r\n          .then(res => {\r\n            this.list.push(res.data)\r\n            Notification.success(`Input${this.res.data.name}Successfully`)\r\n            axios\r\n              .get('http://127.0.0.1:8000/wiki/page/' + this.typeName + '/')\r\n              .then(res => {\r\n                this.list = res.data\r\n              })\r\n          })\r\n      }\r\n    },\r\n    beforeUpload() {\r\n      if (this.slug === '') {\r\n        Notification.warning('Please Enter Title')\r\n        return Promise.reject(false)\r\n      }\r\n    },\r\n    submitJson() {\r\n      if (this.slug === '') {\r\n        Notification.warning('Please Enter Title')\r\n        return\r\n      }\r\n      const jsonData = [{\"TLX\":\"TLX\",\"TLY\":\"TLY\",\"BLX\":\"BLX\",\"BLY\":\"BLY\",\"BRX\":\"BRX\",\"BRY\":\"BRY\",\"TRX\":\"TRX\",\"TRY\":\"TRY\",\"content\":\"content\",\"p\":\"p\",\"as_cat\":\"as_cat\",\"chunk\":\"chunk\",\"cat\":\"cat\"}]\r\n      jsonData.push(...this.ocrData)\r\n      const path = `http://127.0.0.1:8000/wiki/ocr/${this.typeName}/${this.slug}/response/`\r\n      axios\r\n        .post(path, {json:jsonData})\r\n        .then(res => {\r\n          this.attrsCacheMap[this.slug] = res.data.attributes\r\n          this.ocrAttrs = res.data.attributes\r\n        })\r\n    },\r\n    deletePage() {\r\n      axios.delete(`http://127.0.0.1:8000/wiki/page/${this.typeName}/${this.slug}`).then(res => {\r\n        this.resetForm()\r\n      axios\r\n      .get('http://127.0.0.1:8000/wiki/page/' + this.typeName + '/')\r\n      .then(res => {\r\n        this.list = res.data\r\n      })\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n"]},"metadata":{},"sourceType":"module"}